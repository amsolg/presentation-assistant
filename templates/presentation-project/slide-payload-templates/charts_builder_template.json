{
  "payload_structure": {
    "title": "string - Titre de la slide graphique",
    "style": "string - Style de graphique (column_clustered, line_chart, pie_chart, bar_clustered, column_compact, bar_compact)",
    "data_source": {
      "type": "string - Type de source de données (csv, direct, json)",
      "csv_path": "string - Chemin vers fichier CSV (optionnel)",
      "labels": ["array - Labels/catégories des données"],
      "values": ["array - Valeurs pour graphique simple série"],
      "series_data": {
        "série_1": ["array - Valeurs pour la série 1"],
        "série_2": ["array - Valeurs pour la série 2"]
      }
    },
    "formatting": {
      "series_title": "string - Titre personnalisé de la série principale",
      "show_legend": "boolean - Afficher la légende",
      "show_data_labels": "boolean - Afficher les étiquettes de données",
      "insights": "string - Points clés à afficher sous le graphique"
    },
    "options": {
      "auto_widen": "boolean - Élargissement automatique des objets texte",
      "position": "integer - Position d'insertion dans la présentation (optionnel)"
    }
  },
  "examples": {
    "column_chart_simple": {
      "title": "Revenus Trimestriels 2024",
      "style": "column_clustered",
      "data_source": {
        "type": "direct",
        "labels": ["T1 2024", "T2 2024", "T3 2024", "T4 2024"],
        "values": [2500000, 3200000, 2800000, 3700000]
      },
      "formatting": {
        "series_title": "Revenus (€)",
        "show_legend": true,
        "show_data_labels": true,
        "insights": "Croissance continue avec pic en T4"
      },
      "options": {
        "auto_widen": true
      }
    },
    "line_chart_multi_series": {
      "title": "Évolution par Région",
      "style": "line_chart",
      "data_source": {
        "type": "direct",
        "labels": ["Jan", "Fév", "Mar", "Avr", "Mai", "Jun"],
        "series_data": {
          "Europe": [1200000, 1350000, 1300000, 1450000, 1600000, 1550000],
          "Amérique": [800000, 900000, 950000, 1100000, 1200000, 1300000],
          "Asie": [500000, 600000, 700000, 750000, 850000, 900000]
        }
      },
      "formatting": {
        "show_legend": true,
        "show_data_labels": false,
        "insights": "Croissance forte en Amérique et Asie"
      },
      "options": {
        "auto_widen": true
      }
    },
    "pie_chart_market_share": {
      "title": "Parts de Marché 2024",
      "style": "pie_chart",
      "data_source": {
        "type": "direct",
        "labels": ["Premier Tech", "Concurrent A", "Concurrent B", "Concurrent C", "Autres"],
        "values": [35, 25, 18, 12, 10]
      },
      "formatting": {
        "series_title": "Part (%)",
        "show_legend": true,
        "show_data_labels": true,
        "insights": "Position de leader confirmée avec 35% de parts"
      },
      "options": {
        "auto_widen": true
      }
    },
    "bar_chart_comparison": {
      "title": "Comparaison Performance Équipes",
      "style": "bar_clustered",
      "data_source": {
        "type": "direct",
        "labels": ["Équipe A", "Équipe B", "Équipe C", "Équipe D", "Équipe E"],
        "values": [92, 87, 94, 89, 91]
      },
      "formatting": {
        "series_title": "Score (%)",
        "show_legend": false,
        "show_data_labels": true,
        "insights": "Performance excellente avec minimum 87%"
      },
      "options": {
        "auto_widen": true
      }
    },
    "csv_data_source": {
      "title": "Données depuis CSV",
      "style": "column_clustered",
      "data_source": {
        "type": "csv",
        "csv_path": "data/sales_data.csv"
      },
      "formatting": {
        "series_title": "Ventes",
        "show_legend": true,
        "show_data_labels": true,
        "insights": "Données importées automatiquement depuis CSV"
      },
      "options": {
        "auto_widen": true
      }
    },
    "compact_charts": {
      "title": "KPI Compacts",
      "style": "column_compact",
      "data_source": {
        "type": "direct",
        "labels": ["Q1", "Q2", "Q3"],
        "values": [85, 92, 88]
      },
      "formatting": {
        "series_title": "Performance",
        "show_legend": false,
        "show_data_labels": true,
        "insights": "Version compacte pour présentation dense"
      },
      "options": {
        "auto_widen": false
      }
    }
  },
  "validation": {
    "required_fields": ["title", "style", "data_source"],
    "valid_styles": [
      "column_clustered",
      "line_chart",
      "pie_chart",
      "bar_clustered",
      "column_compact",
      "bar_compact"
    ],
    "valid_data_types": ["csv", "direct", "json"],
    "constraints": {
      "title_max_length": 100,
      "max_categories": 12,
      "max_series": 6,
      "pie_chart_max_categories": 8
    }
  },
  "csv_format_specifications": {
    "simple_format": {
      "description": "Format simple avec 2 colonnes",
      "structure": [
        "Catégorie,Valeur",
        "T1,2500000",
        "T2,3200000",
        "T3,2800000"
      ],
      "usage": "Graphiques à série unique"
    },
    "multi_series_format": {
      "description": "Format multi-séries avec plusieurs colonnes de données",
      "structure": [
        "Trimestre,Europe,Amérique,Asie",
        "T1,1200000,800000,500000",
        "T2,1500000,1000000,700000",
        "T3,1300000,900000,600000"
      ],
      "usage": "Graphiques comparatifs multi-séries"
    },
    "requirements": {
      "encoding": "UTF-8",
      "separator": "virgule (,)",
      "header_required": true,
      "numeric_values": "Accepte entiers, décimaux, pourcentages avec %"
    }
  },
  "technical_details": {
    "premier_tech_standards": {
      "color_palette": [
        "#41B6E6 - Bleu Premier Tech (Pantone 298)",
        "#8A8D8F - Gris (Pantone 877)",
        "#040E1E - Bleu Noir PPT",
        "#0077C8 - Bleu vif (Pantone 3005)",
        "#54585B - Gris foncé (Pantone 425)",
        "#BDBDBD - Gris clair",
        "#FFFFFF - Blanc",
        "#003F7F - Bleu foncé"
      ],
      "chart_dimensions": {
        "standard": "8.5x4.5 inches",
        "compact": "7.0x4.0 inches",
        "pie": "6.0x4.5 inches"
      },
      "positioning": "Centré selon standards Premier Tech"
    },
    "slide_templates": {
      "45": "Slide 46 - Graphique en colonnes groupées",
      "46": "Slide 47 - Graphique linéaire",
      "47": "Slide 48 - Graphique en secteurs",
      "48": "Slide 49 - Graphique en barres horizontales",
      "49": "Slide 50 - Graphique en colonnes compact",
      "50": "Slide 51 - Graphique en barres compact"
    },
    "data_processing": {
      "value_normalization": "Conversion automatique des chaînes en nombres",
      "pie_chart_normalization": "Normalisation à 100% si nécessaire",
      "category_limits": "Limitation automatique selon le type de graphique",
      "series_validation": "Validation de cohérence des données multi-séries"
    },
    "integration": {
      "presentation_builder": "Intégration native avec l'orchestrateur JSON 2025",
      "error_handling": "Gestion robuste des erreurs avec messages explicites",
      "backup_creation": "Sauvegarde automatique avant modification",
      "report_generation": "Rapport détaillé JSON après insertion"
    }
  },
  "migration_notes": {
    "from_legacy": "Migration depuis 09_charts_builder.py",
    "architecture": "Architecture JSON 2025 native",
    "function_signature": "process_charts_config(json_config, base_presentation_path)",
    "payload_loading": "load_charts_payload(payload_file_path)",
    "validation": "_validate_charts_config(config)",
    "csv_integration": "Support natif des fichiers CSV avec validation des chemins",
    "enhanced_features": [
      "Text wrapping intelligent",
      "Auto-widen pour objets texte",
      "Validation robuste des données",
      "Support multi-séries avancé",
      "Rapport détaillé automatique"
    ]
  }
}